(this.webpackJsonpmerehead=this.webpackJsonpmerehead||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},19:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(8),c=n.n(u),o=n(1),i=n(2),l=n(3);function s(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    div {\n        display: flex;\n        width: 100px;\n\n        justify-content: space-around;\n        align-items: center;\n    }\n    button {\n        height: 30px;\n        border-radius: 100%;\n        line-height: 14px;\n    }\n"]);return s=function(){return e},e}var p=l.a.div(s()),d=function(e){var t=e.list,n=e.currentPage,r=e.setCurrentPage,u=e.usersPerPage,c=Math.ceil(t.users.length/u);return a.a.createElement(a.a.Fragment,null,c>1&&a.a.createElement(p,null,a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){r(1===n?c:n-1)}}," \u2190"),a.a.createElement("span",null,n,"/",c),a.a.createElement("button",{onClick:function(){return r(n===c?1:n+1)}}," \u2192"))))};function m(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-grow: 0;\n    justify-content: center;\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    background-color: lightgray;\n    input,\n    button {\n        margin: 10px;\n        padding: 5px 10px;\n        font-weight: bold;\n        border-radius: 10px;\n        outline: none;\n    }\n    @media (min-width: 860px) {\n        flex-direction: row;\n    }\n"]);return m=function(){return e},e}var f=l.a.form(m()),h=function(e){var t=e.getUsers,n=Object(r.useState)(""),u=Object(o.a)(n,2),c=u[0],i=u[1],l=Object(r.useState)(""),s=Object(o.a)(l,2),p=s[0],d=s[1],m=Object(r.useState)(""),h=Object(o.a)(m,2),b=h[0],g=h[1];return a.a.createElement(f,{onSubmit:function(e){e.preventDefault(),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/users",{method:"POST",body:JSON.stringify({name:c,surname:p,desc:b}),headers:{"Content-Type":"application/json"}}).then((function(e){return e&&t()}))}},a.a.createElement("h3",null,"Create user"),a.a.createElement("input",{type:"text",name:"name",placeholder:"input name",onChange:function(e){i(e.currentTarget.value)},required:!0}),a.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",onChange:function(e){d(e.currentTarget.value)},required:!0}),a.a.createElement("input",{type:"text",name:"desc",placeholder:"input desc",onChange:function(e){g(e.currentTarget.value)},required:!0}),a.a.createElement("button",{type:"submit"},"Create user"))},b=function(e){var t=e.user,n=e.getUsers,u=Object(r.useState)(""),c=Object(o.a)(u,2),i=c[0],l=c[1],s=Object(r.useState)(""),p=Object(o.a)(s,2),d=p[0],m=p[1],h=Object(r.useState)(""),b=Object(o.a)(h,2),g=b[0],E=b[1],x=Object(r.useState)(!1),y=Object(o.a)(x,2),j=y[0],v=y[1];console.log(t);return a.a.createElement(a.a.Fragment,null,!j&&a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){window.confirm("Delete?")&&fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/user/".concat(t.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok&&n()}))}},"Delete user"),a.a.createElement("button",{onClick:function(){l(t.name),m(t.surname),E(t.desc),v(!0)}},"Edit user")),j&&a.a.createElement(f,{onSubmit:function(e){e.preventDefault(),fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/user/".concat(t.id),{method:"PUT",body:JSON.stringify({name:i,surname:d,desc:g}),headers:{"Content-Type":"application/json"}}).then((function(e){e&&n(),e&&v(!1)}))}},a.a.createElement("h3",null,"Edit user"),a.a.createElement("input",{type:"text",name:"name",placeholder:"input name",defaultValue:i,onChange:function(e){l(e.currentTarget.value)},required:!0}),a.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",defaultValue:d,onChange:function(e){m(e.currentTarget.value)},required:!0}),a.a.createElement("input",{type:"text",name:"desc",placeholder:"input desc",defaultValue:g,onChange:function(e){E(e.currentTarget.value)},required:!0}),a.a.createElement("button",{type:"submit"},"Edit user"),j&&a.a.createElement("button",{onClick:function(){return v(!1)}},"Cancel edit")))};function g(){var e=Object(i.a)(["\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    button,\n    p,\n    span {\n        margin: 10px;\n        padding: 5px 10px;\n        border-radius: 10px;\n        outline: none;\n    }\n"]);return g=function(){return e},e}function E(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n"]);return E=function(){return e},e}var x=l.a.div(E()),y=l.a.div(g()),j=function(){var e=function(){try{var e=localStorage.getItem("users");return null===e?{users:[]}:JSON.parse(e)}catch(t){return console.error(t),{}}}();var t=Object(r.useReducer)((function(e,t){switch(t.type){case"add":return{users:t.data};default:throw new Error}}),e),n=Object(o.a)(t,2),u=n[0],c=n[1];Object(r.useEffect)((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("users",t)}catch(n){console.log(n)}}(u)}),[u]);var i=function(){fetch("https://cors-anywhere.herokuapp.com/http://77.120.241.80:8911/api/users").then((function(e){return e.json()})).then((function(e){c({type:"add",data:e})}))};Object(r.useEffect)((function(){i()}),[]);var l=Object(r.useState)(1),s=Object(o.a)(l,2),p=s[0],m=s[1],f=u.users.slice(5*(p-1),5*p);return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,{getUsers:i}),a.a.createElement(d,{list:u,currentPage:p,setCurrentPage:m,usersPerPage:5}),a.a.createElement(x,null,f.map((function(e,t){return a.a.createElement(y,{key:t},a.a.createElement("p",null,"Name: ",e.name),a.a.createElement("p",null,"Surname: ",e.surname),a.a.createElement("p",null,"Description: ",e.desc),a.a.createElement(b,{user:e,getUsers:i}))}))))};c.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.fd260962.chunk.js.map