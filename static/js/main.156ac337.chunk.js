(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(8),c=n.n(u),i=n(1),l=n(2),o=n(3);function s(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    div {\n        display: flex;\n        width: 100px;\n\n        justify-content: space-around;\n        align-items: center;\n    }\n    button {\n        height: 30px;\n        border-radius: 100%;\n        line-height: 14px;\n    }\n"]);return s=function(){return e},e}var p=o.a.div(s()),d=function(e){var t=e.list,n=e.currentPage,a=e.setCurrentPage,u=e.usersPerPage,c=Math.ceil(t.users.length/u);return r.a.createElement(r.a.Fragment,null,c>1&&r.a.createElement(p,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){a(1===n?c:n-1)}}," \u2190"),r.a.createElement("span",null,n,"/",c),r.a.createElement("button",{onClick:function(){return a(n===c?1:n+1)}}," \u2192"))))};function m(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex-grow: 0;\n    justify-content: center;\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    background-color: lightgray;\n    input,\n    button {\n        margin: 10px;\n        padding: 5px 10px;\n        font-weight: bold;\n        border-radius: 10px;\n        outline: none;\n    }\n    @media (min-width: 860px) {\n        flex-direction: row;\n    }\n"]);return m=function(){return e},e}var f=o.a.form(m()),b=function(e){var t=e.getUsers,n=Object(a.useState)(""),u=Object(i.a)(n,2),c=u[0],l=u[1],o=Object(a.useState)(""),s=Object(i.a)(o,2),p=s[0],d=s[1],m=Object(a.useState)(""),b=Object(i.a)(m,2),g=b[0],h=b[1];return r.a.createElement(f,{onSubmit:function(e){e.preventDefault(),fetch("http://77.120.241.80:8911/api/users",{method:"POST",body:JSON.stringify({name:c,surname:p,desc:g}),headers:{"Content-Type":"application/json"}}).then((function(e){return e&&t()}))}},r.a.createElement("h3",null,"Create user"),r.a.createElement("input",{type:"text",name:"name",placeholder:"input name",onChange:function(e){l(e.currentTarget.value)},required:!0}),r.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",onChange:function(e){d(e.currentTarget.value)},required:!0}),r.a.createElement("input",{type:"text",name:"desc",placeholder:"input desc",onChange:function(e){h(e.currentTarget.value)},required:!0}),r.a.createElement("button",{type:"submit"},"Create user"))},g=function(e){var t=e.user,n=e.getUsers,u=Object(a.useState)(""),c=Object(i.a)(u,2),l=c[0],o=c[1],s=Object(a.useState)(""),p=Object(i.a)(s,2),d=p[0],m=p[1],b=Object(a.useState)(""),g=Object(i.a)(b,2),h=g[0],E=g[1],x=Object(a.useState)(!1),y=Object(i.a)(x,2),j=y[0],v=y[1];console.log(t);return r.a.createElement(r.a.Fragment,null,!j&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){window.confirm("Delete?")&&fetch("http://77.120.241.80:8911/api/user/".concat(t.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok&&n()}))}},"Delete user"),r.a.createElement("button",{onClick:function(){o(t.name),m(t.surname),E(t.desc),v(!0)}},"Edit user")),j&&r.a.createElement(f,{onSubmit:function(e){e.preventDefault(),fetch("http://77.120.241.80:8911/api/user/".concat(t.id),{method:"PUT",body:JSON.stringify({name:l,surname:d,desc:h}),headers:{"Content-Type":"application/json"}}).then((function(e){e&&n(),e&&v(!1)}))}},r.a.createElement("h3",null,"Edit user"),r.a.createElement("input",{type:"text",name:"name",placeholder:"input name",defaultValue:l,onChange:function(e){o(e.currentTarget.value)},required:!0}),r.a.createElement("input",{type:"text",name:"surname",placeholder:"input surname",defaultValue:d,onChange:function(e){m(e.currentTarget.value)},required:!0}),r.a.createElement("input",{type:"text",name:"desc",placeholder:"input desc",defaultValue:h,onChange:function(e){E(e.currentTarget.value)},required:!0}),r.a.createElement("button",{type:"submit"},"Edit user"),j&&r.a.createElement("button",{onClick:function(){return v(!1)}},"Cancel edit")))};function h(){var e=Object(l.a)(["\n    border: 1px solid black;\n    border-radius: 15px;\n    margin: 10px;\n    padding: 10px;\n    button,\n    p,\n    span {\n        margin: 10px;\n        padding: 5px 10px;\n        border-radius: 10px;\n        outline: none;\n    }\n"]);return h=function(){return e},e}function E(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n"]);return E=function(){return e},e}var x=o.a.div(E()),y=o.a.div(h()),j=function(){var e=function(){try{var e=localStorage.getItem("users");return null===e?{users:[]}:JSON.parse(e)}catch(t){return console.error(t),{}}}();var t=Object(a.useReducer)((function(e,t){switch(t.type){case"add":return{users:t.data};default:throw new Error}}),e),n=Object(i.a)(t,2),u=n[0],c=n[1];Object(a.useEffect)((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("users",t)}catch(n){console.log(n)}}(u)}),[u]);var l=function(){fetch("http://77.120.241.80:8911/api/users").then((function(e){return e.json()})).then((function(e){c({type:"add",data:e})}))};Object(a.useEffect)((function(){l()}),[]);var o=Object(a.useState)(1),s=Object(i.a)(o,2),p=s[0],m=s[1],f=u.users.slice(5*(p-1),5*p);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{getUsers:l}),r.a.createElement(d,{list:u,currentPage:p,setCurrentPage:m,usersPerPage:5}),r.a.createElement(x,null,f.map((function(e,t){return r.a.createElement(y,{key:t},r.a.createElement("p",null,"Name: ",e.name),r.a.createElement("p",null,"Surname: ",e.surname),r.a.createElement("p",null,"Description: ",e.desc),r.a.createElement(g,{user:e,getUsers:l}))}))))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.156ac337.chunk.js.map